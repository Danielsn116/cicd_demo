parameters:
  - name: agent
    type: string
    default: windows-latest
  - name: location
    type: string
    default: westeurope
  - name: azureSubscription
    type: string
  - name: afterPublishSteps
    type: stepList
    default: []
  - name: azure_environment
    type: string

steps:
  - template: ../task/publish-bicep-task.yml
    parameters:
      location: ${{ parameters.location }}
      azureSubscription: ${{ parameters.azureSubscription }}
      azure_environment: ${{parameters.azure_environment}}
  - ${{ parameters.afterPublishSteps }}